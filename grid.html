<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; background: #333; }
        canvas { display: block; image-rendering: pixelated; }
    </style>
</head>
<body>
    <canvas id="c"></canvas>
    <script>
        const img = new Image();
        img.src = 'SpriteSheet.png';
        img.onload = function() {
            const cvs = document.getElementById('c');
            cvs.width = img.width;
            cvs.height = img.height;
            const ctx = cvs.getContext('2d');
            
            // Draw original with slight transparency to see grid better
            ctx.globalAlpha = 0.8;
            ctx.drawImage(img, 0, 0);
            ctx.globalAlpha = 1.0;
            
            const TILE = 64; // Assuming 16px scaled by 4
            
            ctx.lineWidth = 1;
            ctx.font = "bold 14px Arial";
            
            for(let y=0; y<img.height; y+=parseInt(TILE/2)) {
                for(let x=0; x<img.width; x+=parseInt(TILE/2)) {
                    // check if area is empty
                    let dat = ctx.getImageData(x, y, TILE/2, TILE/2).data;
                    let empty = true;
                    for(let i=3; i<dat.length; i+=4) {
                        if(dat[i] > 10) { empty = false; break; }
                    }
                    if(empty) continue;
                    
                    ctx.strokeStyle = "rgba(0, 255, 0, 0.4)";
                    ctx.strokeRect(x, y, TILE, TILE);
                    ctx.fillStyle = "yellow";
                    ctx.fillText(`${x},${y}`, x+2, y+16);
                }
            }
        };
    </script>
</body>
</html>
